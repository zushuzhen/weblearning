**跳转**

```
navTo() {
    wx.navigateTo({url: '/pages/contract-add/contract-add'})
  },
```

**缓存获取数据**

```
this.setData({"UserData": wx.getStorageSync('UserData')}) 
```

**数据添加缓存**

```
wx.setStorageSync('myData', myData);
```

**赋值**

```
this.setData({show: true});
```

**传值**

```
data-item="{{item}}"
```

**顶部标题栏（隐藏）**

```
"navigationStyle":"custom"
```

**打电话**

```js
catchtap='callPhone' data-item="{{item}}"

callPhone(e:any) {
  console.log("电话",e);
  let callPhone = e.currentTarget.dataset.item.phone;
  wx.makePhoneCall({
    phoneNumber: callPhone,
  })
},
```

**接口**

```
import getTeacherregister from './../../utils/getData'

let data= {}
let param = {
  API_URL: api.XXXX,
  method: "POST",
  };
  getData.result(param).then((resl) => {
  console.log("列表",resl);
  if(resl.statusCode == 200){
    this.setData({
      studentList: resl.data,
      last_page: resl.data.last_page
    })
  }
})
```

**静默获取用户位置**

```js
  doLocal: function (latitude, longitude) {
    var that = this;
    var mapUrl = 'https://apis.map.qq.com/ws/geocoder/v1/?location=' + latitude + ',' + longitude + '&key=' + '2ESBZ-AODC5-H5HI5-QJGC6-C44YJ-2OBAK';
    wx.request({
      url: mapUrl,
      data: {},
      header: {
        'Content-Type': 'application/json'
      },
      success: function (res) {
        console.log(res)
        if (res.statusCode == 200) {
          that.setData({
            'UserData.address': res.data.result.address,
            'UserData.location': JSON.stringify(res.data.result.location)
          })
          console.log(that.data.UserData.address);
          console.log(that.data.UserData.location);
        }
      },
    })
  },
```

**授权电话**

```js
getPhone(event: any) {
  console.log(event)
  let that = this
  wx.login({
    success: (res) => {
      console.log(res)
      let data = {
        code: res.code,
        encryptedData: event.detail.encryptedData,
        iv: event.detail.iv,
       }
       let param = {
         API_URL: api.后端接口,
         data: data,
         method: "POST",
       };
       getData.result(param).then((res: any) => {
         if (res.statusCode == 200) {
           that.setData({
             'UserData.phone': res.data.data.phone
           })
           wx.showToast({
             title: '授权成功',
             icon: 'success'
           })
         } else {
           wx.showToast({
           title: '授权失败',
           icon: 'error'
          })
        }
      })
    }
  })
},
```



  
